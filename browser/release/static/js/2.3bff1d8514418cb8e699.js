webpackJsonp([2],{"1gO/":function(t,e,i){"use strict";var s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slide",on:{click:function(e){return t.caozuoFun()}}},[i("div",{staticClass:"fes-header"},[i("img",{attrs:{src:t.logo,alt:""}}),t._v(" "),i("h2",[t._v("FS3 Browser")])]),t._v(" "),i("div",{staticClass:"fes-search"},[i("el-input",{attrs:{placeholder:"Search Buckets...","prefix-icon":"el-icon-search"},on:{input:t.searchBucketFun},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),i("el-row",t._l(t.minioListBucketsAll.buckets,function(e,s){return i("el-col",{key:s,class:{active:e.name==t.currentBucket},attrs:{span:24},nativeOn:{click:function(i){return t.getListBucket(e.name)}}},[i("div",[i("i",{staticClass:"iconfont icon-harddriveyingpan"}),t._v("\n                    "+t._s(e.name)+"\n                ")]),t._v(" "),i("i",{staticClass:"caozuo el-icon-more",on:{click:function(i){return i.stopPropagation(),t.caozuoFun(s,e.name)}}}),t._v(" "),e.show&&t.homeClick?i("ul",[i("li",{on:{click:function(i){return i.stopPropagation(),t.dialogFun(e.name,s)}}},[t._v("Edit policy")]),t._v(" "),i("li",[t._v("Backup to Filecoin")]),t._v(" "),i("li",{on:{click:function(i){return i.stopPropagation(),t.dialogDeleteFun(e.name,s)}}},[t._v("Delete")])]):t._e()])}),1)],1),t._v(" "),i("div",{staticClass:"fes-host"},[i("i",{staticClass:"iconfont icon-diqiu"}),t._v(" "),i("a",{attrs:{href:"/"}},[t._v(t._s(t.location))])]),t._v(" "),i("el-dialog",{attrs:{title:t.titlePolicy,visible:t.dialogFormVisible,"custom-class":"policyStyle"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{ref:"dynamicValidateForm",staticClass:"demo-dynamic"},[i("el-form-item",[i("el-input",{attrs:{placeholder:"Prefix"},model:{value:t.dynamicValidateForm.value,callback:function(e){t.$set(t.dynamicValidateForm,"value",e)},expression:"dynamicValidateForm.value"}}),t._v(" "),i("el-select",{attrs:{placeholder:""},model:{value:t.dynamicValidateForm.valueSelect,callback:function(e){t.$set(t.dynamicValidateForm,"valueSelect",e)},expression:"dynamicValidateForm.valueSelect"}},t._l(t.dynamicValidateForm.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.addPolicies}},[t._v("Add")])],1),t._v(" "),t._l(t.bucketPolicies.policies,function(e,s){return i("el-form-item",{key:s},[i("div",{staticClass:"el-input"},[i("div",{staticClass:"el-input__inner"},[t._v(t._s(e.prefix?e.prefix:"*"))])]),t._v(" "),i("el-select",{attrs:{placeholder:"",disabled:""},model:{value:e.policy,callback:function(i){t.$set(e,"policy",i)},expression:"domain.policy"}},t._l(t.dynamicValidateForm.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:function(i){return i.preventDefault(),t.removePolicies(e)}}},[t._v("Remove")])],1)})],2)],1)],1)},staticRenderFns:[]};e.a=s},EmCP:function(t,e){},Fs8J:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=u(i("mtWM")),o=u(i("LY8z"));function u(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{postUrl:this.data_api+"/minio/webrpc",logo:i("mlmE"),bodyWidth:document.body.clientWidth<=1024,addFileShow:!1,dialogFormVisible:!1,form:{name:""},slideShow:!1,minioListBuckets:{buckets:[],uiVersion:""},currentBucket:"nbai",minioStorageInfo:{storageInfo:{},uiVersion:""},userd:0,aboutServer:{MinioVersion:"",MinioMemory:"",MinioPlatform:"",MinioRuntime:"",MinioGlobalInfo:{}},aboutListObjects:{objects:[],uiVersion:"",writable:!0},fileList:[],actionUrl:"",prefixData:"",homeClick:!1,addArr:[]}},components:{vSlide:o.default},computed:{headertitle:function(){return this.$store.getters.headertitle},routerMenu:function(){return this.$store.getters.routerMenu}},methods:{getFile:function(t){for(var e=t.target.files,i=0;i<e.length;i++){var s=e[i].name,o=s.lastIndexOf(".");if(-1!=o){var u=s.substr(o+1).toUpperCase();u=u.toLowerCase(),this.addArr.push(e[i]),this.submitAddFile(e[i])}}},submitAddFile:function(t){console.log(t);var e=void 0;if(0==this.addArr.length)return this.$message({message:"Please choose a bucket before trying to upload files.",type:"error",showClose:!0,duration:0}),e=!0,!1;if(!e){var i=this.data_api+"/minio/upload/"+this.currentBucket+"/"+t.name;s.default.put(i,{},{headers:{Authorization:"Bearer "+this.$store.getters.accessToken,"Content-Type":t.type}}).then(function(t){var e=t.data;console.log(e)}).catch(function(t){console.log(t)}),this.getListObjects(this.currentBucket,this.prefixData)}},getData:function(){this.getListBuckets(),this.getStorageInfo(),this.getServerInfo()},getListBuckets:function(t){var e=this;s.default.post(e.postUrl,{id:1,jsonrpc:"2.0",method:"web.ListBuckets",params:{}},{headers:{Authorization:"Bearer "+e.$store.getters.accessToken}}).then(function(i){var s=i.data,o=s.error,u=s.result;return o?(e.$message.error(o.message),!1):(e.minioListBuckets=u,e.currentBucket=e.minioListBuckets.buckets[0]?e.minioListBuckets.buckets[0].name:"",t?(e.getListObjects(t),!1):(e.getListObjects(),void console.log("minioListBuckets home",e.minioListBuckets)))}).catch(function(t){console.log(t)})},getStorageInfo:function(){var t=this;s.default.post(t.postUrl,{id:1,jsonrpc:"2.0",method:"web.StorageInfo",params:{}},{headers:{Authorization:"Bearer "+t.$store.getters.accessToken}}).then(function(e){var i=e.data,s=i.error,o=i.result;if(s)return t.$message.error(s.message),!1;t.minioStorageInfo=o,t.userd=o.used,console.log(i,"userd:",t.userd)}).catch(function(t){console.log(t)})},getServerInfo:function(){var t=this;s.default.post(t.postUrl,{id:1,jsonrpc:"2.0",method:"web.ServerInfo",params:{}},{headers:{Authorization:"Bearer "+t.$store.getters.accessToken}}).then(function(e){var i=e.data,s=i.error,o=i.result;if(s)return t.$message.error(s.message),!1;t.aboutServer=o,console.log(i)}).catch(function(t){console.log(t)})},getListObjects:function(t,e){var i=this;i.prefixData=e;var o={id:1,jsonrpc:"2.0",method:"web.ListObjects",params:{bucketName:t||(i.minioListBuckets.buckets[0]?i.minioListBuckets.buckets[0].name:""),prefix:i.prefixData?i.prefixData:""}};i.currentBucket=t||(i.minioListBuckets.buckets[0]?i.minioListBuckets.buckets[0].name:""),s.default.post(i.postUrl,o,{headers:{Authorization:"Bearer "+i.$store.getters.accessToken}}).then(function(t){var e=t.data,s=e.error,o=e.result;if(s)return i.$message.error(s.message),!1;i.aboutListObjects=o,console.log(e)}).catch(function(t){console.log(t)})},getMakeBucket:function(t,e,i,o){var u=this,c={id:1,jsonrpc:"2.0",method:"web.MakeBucket",params:{bucketName:t}};u.dialogFormVisible=e,u.currentBucket=t,s.default.post(u.postUrl,c,{headers:{Authorization:"Bearer "+u.$store.getters.accessToken}}).then(function(e){var s=e.data,c=s.error;s.result;if(c)return u.$message.error(c.message),o&&(u.currentBucket=o,console.log("error",o)),!1;u.minioListBuckets&&u.minioListBuckets.buckets&&u.minioListBuckets.buckets.map(function(e){if(e.name.indexOf(t)>=0)return u.getListBuckets(),!1}),u.getListBuckets(t),u.getListObjects(t),i&&u.getListObjects(t,!1,i)}).catch(function(t){console.log(t)})},getRemoveObject:function(t){this.aboutListObjects.objects=JSON.parse(JSON.stringify(t))},getminioListBucket:function(t){this.getListObjects(t)},addToggle:function(){this.addFileShow=!this.addFileShow},slideBtn:function(){this.slideShow=!this.slideShow},wrapperClick:function(){this.addFileShow=!1,this.homeClick=!1},homeClickFun:function(t){this.homeClick=t},httpRequest:function(t){console.log("httpRequest",t)},onChange:function(t,e){console.log("onChange",t,e);var i=void 0;if(this.minioListBuckets.buckets.length<1)return this.$message({message:"Please choose a bucket before trying to upload files.",type:"error",showClose:!0,duration:0}),i=!0,!1;if(!i){var o=this.data_api+"/minio/upload/"+this.currentBucket+"/"+t.name;s.default.put(o,{},{headers:{Authorization:"Bearer "+this.$store.getters.accessToken,"Content-Type":t.raw.type}}).then(function(t){var e=t.data;console.log(e)}).catch(function(t){console.log(t)}),this.getListObjects(this.currentBucket,this.prefixData)}}},mounted:function(){this.getData()}}},LY8z:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("yfqw"),o=i.n(s);for(var u in s)"default"!==u&&function(t){i.d(e,t,function(){return s[t]})}(u);var c=i("1gO/");var n=function(t){i("jwiC")},a=i("VU/8")(o.a,c.a,!1,n,"data-v-09c2edbb",null);e.default=a.exports},jwiC:function(t,e){},lO7g:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Fs8J"),o=i.n(s);for(var u in s)"default"!==u&&function(t){i.d(e,t,function(){return s[t]})}(u);var c=i("uRO+");var n=function(t){i("EmCP")},a=i("VU/8")(o.a,c.a,!1,n,"data-v-3c362266",null);e.default=a.exports},mlmE:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA5MyAxODciIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDkzIDE4NzsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMzMzMzMzM7fQoJLnN0MXtmaWxsOnVybCgjU1ZHSURfMV8pO30KCS5zdDJ7ZmlsbDp1cmwoI1NWR0lEXzJfKTt9Cgkuc3Qze2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxnPgoJPGc+CgkJPHBhdGggY2xhc3M9InN0MCIgZD0iTTM2LjQsMTYzLjVoLTIuNmwtMC42LTIuN2MtMS4xLDEuMi0yLjEsMi4xLTMuMiwyLjVjLTEuMSwwLjUtMi4zLDAuNy0zLjcsMC43Yy0xLjcsMC0zLjItMC4zLTQuNi0wLjkKCQkJYy0xLjQtMC42LTIuNS0xLjUtMy40LTIuNmMtMC45LTEuMS0xLjctMi4zLTIuMi0zLjhjLTAuNS0xLjQtMC43LTMtMC43LTQuNmMwLTEuNiwwLjItMy4xLDAuNy00LjZjMC41LTEuNCwxLjItMi43LDIuMi0zLjgKCQkJYzAuOS0xLjEsMi4xLTEuOSwzLjQtMi42YzEuMy0wLjYsMi45LTEsNC42LTFjMS4yLDAsMi40LDAuMiwzLjUsMC41YzEuMSwwLjMsMi4xLDAuOCwzLDEuNWMwLjksMC42LDEuNiwxLjUsMi4yLDIuNAoJCQljMC42LDEsMC45LDIuMSwxLjEsMy40aC0zLjljLTAuMS0wLjctMC4zLTEuNC0wLjctMmMtMC40LTAuNi0wLjgtMS0xLjMtMS40Yy0wLjUtMC40LTEuMS0wLjctMS44LTAuOWMtMC43LTAuMi0xLjQtMC4zLTIuMS0wLjMKCQkJYy0xLjIsMC0yLjMsMC4yLTMuMSwwLjdjLTAuOSwwLjUtMS42LDEuMS0yLjIsMmMtMC42LDAuOC0xLDEuNy0xLjIsMi44Yy0wLjMsMS0wLjQsMi4xLTAuNCwzLjJjMCwxLjEsMC4xLDIuMSwwLjQsMy4yCgkJCWMwLjMsMSwwLjcsMiwxLjIsMi44YzAuNiwwLjgsMS4zLDEuNSwyLjIsMmMwLjksMC41LDEuOSwwLjcsMy4xLDAuN2MxLDAsMS45LTAuMSwyLjctMC40YzAuOC0wLjMsMS41LTAuNywyLTEuMgoJCQljMC41LTAuNSwxLTEuMiwxLjItMmMwLjMtMC44LDAuNC0xLjcsMC40LTIuNmgtNi4xdi0zaDkuN1YxNjMuNXoiLz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNDQuMSwxNTUuOWMwLDAuOSwwLjEsMS42LDAuNCwyLjJjMC4zLDAuNiwwLjcsMS4xLDEuMiwxLjVjMC41LDAuNCwxLjEsMC43LDEuOCwwLjljMC43LDAuMiwxLjQsMC4zLDIuMiwwLjMKCQkJYzAuOSwwLDEuNi0wLjEsMi4yLTAuM3MxLjEtMC41LDEuNS0wLjhjMC40LTAuMywwLjctMC43LDAuOC0xLjFjMC4yLTAuNCwwLjMtMC44LDAuMy0xLjNjMC0wLjktMC4yLTEuNS0wLjYtMS45CgkJCWMtMC40LTAuNC0wLjgtMC43LTEuMy0wLjljLTAuOC0wLjMtMS43LTAuNi0yLjgtMC44Yy0xLjEtMC4zLTIuNC0wLjYtNC0xYy0xLTAuMy0xLjgtMC42LTIuNC0xYy0wLjYtMC40LTEuMi0wLjktMS41LTEuNAoJCQljLTAuNC0wLjUtMC43LTEuMS0wLjgtMS42Yy0wLjItMC42LTAuMi0xLjItMC4yLTEuOGMwLTEuMSwwLjItMi4xLDAuNy0zYzAuNS0wLjgsMS4xLTEuNSwxLjktMi4xYzAuOC0wLjYsMS43LTEsMi43LTEuMgoJCQljMS0wLjMsMi0wLjQsMy0wLjRjMS4yLDAsMi4zLDAuMiwzLjQsMC41YzEuMSwwLjMsMiwwLjgsMi44LDEuNGMwLjgsMC42LDEuNCwxLjQsMS45LDIuM2MwLjUsMC45LDAuNywyLDAuNywzLjFoLTQKCQkJYy0wLjEtMS41LTAuNi0yLjUtMS41LTMuMWMtMC45LTAuNi0yLTAuOS0zLjQtMC45Yy0wLjUsMC0wLjksMC0xLjQsMC4xYy0wLjUsMC4xLTAuOSwwLjMtMS4zLDAuNWMtMC40LDAuMi0wLjcsMC41LTEsMC45CgkJCWMtMC4zLDAuNC0wLjQsMC45LTAuNCwxLjRjMCwwLjgsMC4yLDEuNCwwLjcsMS45YzAuNSwwLjUsMS4yLDAuOCwyLDFjMC4xLDAsMC40LDAuMSwxLDAuM2MwLjYsMC4yLDEuMiwwLjMsMiwwLjUKCQkJYzAuNywwLjIsMS40LDAuNCwyLjEsMC42YzAuNywwLjIsMS4yLDAuMywxLjUsMC40YzAuNywwLjIsMS40LDAuNiwxLjksMWMwLjYsMC40LDEsMC45LDEuNCwxLjRjMC40LDAuNSwwLjYsMS4xLDAuOCwxLjcKCQkJYzAuMiwwLjYsMC4zLDEuMiwwLjMsMS44YzAsMS4zLTAuMywyLjQtMC44LDMuM2MtMC41LDAuOS0xLjIsMS42LTIuMSwyLjJjLTAuOSwwLjYtMS44LDEtMi45LDEuM2MtMS4xLDAuMy0yLjIsMC40LTMuMywwLjQKCQkJYy0xLjMsMC0yLjUtMC4yLTMuNy0wLjVjLTEuMS0wLjMtMi4xLTAuOC0zLTEuNWMtMC45LTAuNy0xLjUtMS41LTItMi41Yy0wLjUtMS0wLjgtMi4yLTAuOC0zLjdINDQuMXoiLz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNNzcsMTYzLjVINjEuOGMwLTEuOCwwLjUtMy41LDEuMy00LjhjMC45LTEuNCwyLjEtMi42LDMuNi0zLjZjMC43LTAuNSwxLjUtMSwyLjMtMS41YzAuOC0wLjUsMS41LTEsMi4yLTEuNgoJCQljMC43LTAuNiwxLjItMS4yLDEuNi0xLjljMC40LTAuNywwLjYtMS40LDAuNy0yLjNjMC0wLjQsMC0wLjgtMC4xLTEuM2MtMC4xLTAuNS0wLjMtMC45LTAuNi0xLjNjLTAuMy0wLjQtMC43LTAuNy0xLjEtMQoJCQljLTAuNS0wLjMtMS4xLTAuNC0xLjktMC40Yy0wLjcsMC0xLjMsMC4xLTEuOCwwLjRjLTAuNSwwLjMtMC45LDAuNy0xLjEsMS4yYy0wLjMsMC41LTAuNSwxLjEtMC42LDEuOGMtMC4xLDAuNy0wLjIsMS40LTAuMiwyLjIKCQkJaC0zLjZjMC0xLjIsMC4yLTIuNCwwLjUtMy40YzAuMy0xLjEsMC44LTIsMS41LTIuN2MwLjctMC44LDEuNS0xLjQsMi40LTEuOGMwLjktMC40LDItMC43LDMuMy0wLjdjMS40LDAsMi41LDAuMiwzLjQsMC43CgkJCWMwLjksMC40LDEuNywxLDIuMiwxLjdjMC42LDAuNywxLDEuNCwxLjIsMi4yYzAuMiwwLjgsMC40LDEuNiwwLjQsMi4zYzAsMC45LTAuMSwxLjctMC40LDIuNGMtMC4zLDAuNy0wLjYsMS40LTEuMSwyCgkJCWMtMC41LDAuNi0xLDEuMi0xLjYsMS43Yy0wLjYsMC41LTEuMiwxLTEuOCwxLjRjLTAuNiwwLjQtMS4zLDAuOS0xLjksMS4zYy0wLjYsMC40LTEuMiwwLjgtMS44LDEuMnMtMSwwLjgtMS40LDEuMwoJCQljLTAuNCwwLjQtMC43LDAuOS0wLjgsMS40SDc3VjE2My41eiIvPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMV8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMTMuMDE2NiIgeTE9IjExNS43NDMyIiB4Mj0iMzguNTc1NSIgeTI9IjIyLjk1MjIiPgoJCQkJPHN0b3AgIG9mZnNldD0iMCIgc3R5bGU9InN0b3AtY29sb3I6IzREOERGRiIvPgoJCQkJPHN0b3AgIG9mZnNldD0iMC40MDg4IiBzdHlsZT0ic3RvcC1jb2xvcjojNzE5REZGIi8+CgkJCQk8c3RvcCAgb2Zmc2V0PSIwLjc3ODYiIHN0eWxlPSJzdG9wLWNvbG9yOiM4QUE5RkYiLz4KCQkJCTxzdG9wICBvZmZzZXQ9IjEiIHN0eWxlPSJzdG9wLWNvbG9yOiM5NEFERkYiLz4KCQkJPC9saW5lYXJHcmFkaWVudD4KCQkJPHBvbHlnb24gY2xhc3M9InN0MSIgcG9pbnRzPSI0Ni42LDExMi45IDQ2LjYsMTkgMi4zLDMzLjcgMy4yLDEwMS43IDQ2LjYsMTE0LjggCQkJIi8+CgkJPC9nPgoJCTxnPgoJCQkKCQkJCTxsaW5lYXJHcmFkaWVudCBpZD0iU1ZHSURfMl8iIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iNTM4LjIxNTkiIHkxPSItNDE0Ljc4NDYiIHgyPSI1NjMuNzc0OCIgeTI9Ii01MDcuNTc1NiIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgLTEgNjE4LjM2NTIgLTM5Ni43NzU4KSI+CgkJCQk8c3RvcCAgb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojNEQ4REZGIi8+CgkJCQk8c3RvcCAgb2Zmc2V0PSIwLjQwODgiIHN0eWxlPSJzdG9wLWNvbG9yOiM3MTlERkYiLz4KCQkJCTxzdG9wICBvZmZzZXQ9IjAuNzc4NiIgc3R5bGU9InN0b3AtY29sb3I6IzhBQTlGRiIvPgoJCQkJPHN0b3AgIG9mZnNldD0iMSIgc3R5bGU9InN0b3AtY29sb3I6Izk0QURGRiIvPgoJCQk8L2xpbmVhckdyYWRpZW50PgoJCQk8cG9seWdvbiBjbGFzcz0ic3QyIiBwb2ludHM9IjQ2LjYsMTE0LjggOTAuOSwxMDAgOTAsMzIgNDYuNiwxOSAJCQkiLz4KCQk8L2c+Cgk8L2c+Cgk8cGF0aCBjbGFzcz0ic3QzIiBkPSJNNTguMiw2NGwtMTEsOS41aDEzLjljLTAuNSwyLjgtMS45LDUuMS00LjMsNy4yYy0yLjcsMi40LTUuNywzLjYtOSwzLjZjLTMuOSwwLTcuNy0xLjYtMTEuMS00LjgKCQljLTMuNy0zLjUtNS41LTcuOC01LjUtMTMuMWMwLTUuMiwxLjYtOS40LDQuOS0xMi45YzMuMy0zLjUsNy4zLTUuMiwxMi4yLTUuMmM1LjQsMCw5LjksMi42LDEzLjcsNy45bDAuNywxbDYuOC02LjlsLTAuNy0wLjgKCQljLTMuMS0zLjctNi40LTYuNS05LjYtOC4yYy0zLjQtMS43LTcuMS0yLjUtMTEuMS0yLjVjLTcuMywwLTEzLjYsMi43LTE4LjcsOC4xYy01LjEsNS4zLTcuNywxMS45LTcuNywxOS42YzAsNy41LDIuNSwxNCw3LjYsMTkuNAoJCWM1LDUuMywxMS4yLDgsMTguMiw4YzcuMiwwLDEzLjMtMi44LDE4LTguM2MyLjEtMi41LDMuNi01LjIsNC41LTguMWMwLjktMywxLjMtNi42LDEuMy0xMC41VjY0SDU4LjJ6Ii8+CjwvZz4KPC9zdmc+Cg=="},"uRO+":function(t,e,i){"use strict";var s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper",on:{click:function(e){return e.stopPropagation(),t.wrapperClick(e)}}},[i("v-slide",{class:{sliMobile:t.slideShow},attrs:{minioListBuckets:t.minioListBuckets,currentBucket:t.currentBucket,homeClick:t.homeClick},on:{homeClickFun:t.homeClickFun,getminioListBucket:t.getminioListBucket,getListBuckets:t.getListBuckets}}),t._v(" "),i("div",{staticClass:"content"},[i("el-row",{staticClass:"headStyle"},[i("el-col",{attrs:{span:6}},[t.slideShow?i("el-button",{staticClass:"el-icon-back",staticStyle:{"background-color":"#484b4e"},on:{click:t.slideBtn}}):i("el-button",{staticClass:"iconfont icon-ziyuan",on:{click:t.slideBtn}})],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("img",{attrs:{src:t.logo}})]),t._v(" "),i("el-col",{attrs:{span:6}})],1),t._v(" "),i("transition",{attrs:{name:"move",mode:"out-in"}},[i("router-view",{attrs:{aboutServer:t.aboutServer,aboutListObjects:t.aboutListObjects,dialogFormVisible:t.dialogFormVisible,currentBucket:t.currentBucket,userd:t.userd},on:{getaboutServer:t.getMakeBucket,getRemoveObject:t.getRemoveObject,getListObjects:t.getListObjects}})],1),t._v(" "),i("div",{staticClass:"addFile"},[t.addFileShow?i("el-row",[i("el-col",{attrs:{span:24}},[i("el-upload",{ref:"uploadFile",staticClass:"upload-demo",attrs:{action:"customize","http-request":t.httpRequest,"on-change":t.onChange,multiple:"","auto-upload":!1}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Upload file",placement:"left"}},[i("i",{staticClass:"iconfont icon-shangchuan"})])],1)],1),t._v(" "),i("el-col",{attrs:{span:24}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Create bucket",placement:"left"},nativeOn:{click:function(e){t.dialogFormVisible=!0}}},[i("i",{staticClass:"iconfont icon-harddriveyingpan"})])],1)],1):t._e(),t._v(" "),i("i",{staticClass:"el-icon-plus",class:{"el-icon-plus-new":t.addFileShow},on:{click:function(e){return e.stopPropagation(),t.addToggle(e)}}})],1),t._v(" "),i("el-backtop",{attrs:{target:".wrapper"}})],1)],1)},staticRenderFns:[]};e.a=s},yfqw:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,o=i("mtWM"),u=(s=o)&&s.__esModule?s:{default:s};e.default={data:function(){return{postUrl:this.data_api+"/minio/webrpc",logo:i("mlmE"),activeIndex:"1",mobileMenuShow:!1,search:"",location:window.location.host,minioListBucketsAll:{},dialogFormVisible:!1,titlePolicy:"Bucket Policy ",dynamicValidateForm:{value:"",options:[{value:"readonly",label:"Read Only"},{value:"writeonly",label:"Write Only"},{value:"readwrite",label:"Read and Write"}],valueSelect:"readonly"},bucketPolicies:{policies:[]}}},props:["minioListBuckets","currentBucket","homeClick"],computed:{email:function(){return this.$store.state.user.email}},watch:{$route:function(t,e){this.bodyWidth&&(this.collapse=!0,this.collapseChage())},minioListBuckets:function(t,e){this.getMinioData()},homeClick:function(t,e){console.log("homeClick change:",this.homeClick)}},methods:{removePolicies:function(t){var e=this;console.log("content",t);var i={id:1,jsonrpc:"2.0",method:"web.SetBucketPolicy",params:{bucketName:t.bucket,policy:"none",prefix:t.prefix}};u.default.post(e.postUrl,i,{headers:{Authorization:"Bearer "+e.$store.getters.accessToken}}).then(function(t){var i=t.data,s=i.error;i.result;if(s)return e.$message.error(s.message),!1;e.dynamicValidateForm.value="",e.getListAllBucketPolicies(e.currentBucket)}).catch(function(t){console.log(t),e.loginLoad=!1})},addPolicies:function(){var t=this,e=void 0;t.bucketPolicies.policies&&t.bucketPolicies.policies.map(function(i){if(i.prefix==t.dynamicValidateForm.value&&i.policy==t.dynamicValidateForm.valueSelect||!i.prefix&&"*"==t.dynamicValidateForm.value&&i.policy!==t.dynamicValidateForm.valueSelect)return t.$message({message:"Policy for this prefix already exists.",type:"warning",showClose:!0}),e=!0,!1;console.log(i.prefix,t.dynamicValidateForm.value,i.policy,t.dynamicValidateForm.valueSelect)}),e?console.log("$hgh",222):(console.log("$hgh",111),t.setPolicyChange(),setTimeout(function(){console.log("return ceshi111",t.bucketPolicies.policies)},1e3))},setPolicyChange:function(){var t=this,e={id:1,jsonrpc:"2.0",method:"web.SetBucketPolicy",params:{bucketName:t.currentBucket,policy:t.dynamicValidateForm.valueSelect,prefix:t.dynamicValidateForm.value}};u.default.post(t.postUrl,e,{headers:{Authorization:"Bearer "+t.$store.getters.accessToken}}).then(function(e){var i=e.data,s=i.error;i.result;if(s)return t.$message.error(s.message),!1;t.dynamicValidateForm.value="",t.getListAllBucketPolicies(t.currentBucket)}).catch(function(e){console.log(e),t.loginLoad=!1})},dialogFun:function(t,e){this.titlePolicy="Bucket Policy ("+t+")",this.dialogFormVisible=!0,this.minioListBucketsAll&&this.minioListBucketsAll.buckets.map(function(t,e){t.show=!1}),this.getListAllBucketPolicies(t)},dialogDeleteFun:function(t,e){var i=this,s={id:1,jsonrpc:"2.0",method:"web.DeleteBucket",params:{bucketName:t}};u.default.post(i.postUrl,s,{headers:{Authorization:"Bearer "+i.$store.getters.accessToken}}).then(function(t){var e=t.data,s=e.error;e.result;if(s)return i.$message.error(s.message),!1;i.$emit("getListBuckets"),console.log(e)}).catch(function(t){console.log(t),i.loginLoad=!1})},getListAllBucketPolicies:function(t){var e=this,i={id:1,jsonrpc:"2.0",method:"web.ListAllBucketPolicies",params:{bucketName:t}};u.default.post(e.postUrl,i,{headers:{Authorization:"Bearer "+e.$store.getters.accessToken}}).then(function(t){var i=t.data,s=i.error,o=i.result;if(s)return e.$message.error(s.message),!1;e.bucketPolicies=o}).catch(function(t){console.log(t),e.loginLoad=!1})},handleSelect:function(t,e){console.log(t,e)},mobileMenuFun:function(){this.mobileMenuShow=!this.mobileMenuShow,this.mobileMenuShow?(document.body.style.height="100vh",document.body.style["overflow-y"]="hidden"):(document.body.style.height="auto",document.body.style["overflow-y"]="auto")},caozuoFun:function(t,e){var i=this;i.$nextTick(function(){i.minioListBucketsAll.buckets&&i.minioListBucketsAll.buckets.map(function(e,s){e.show=!1,s==t&&(e.show=!0,i.$emit("homeClickFun",!0))})}),e&&i.getListBucket(e)},searchBucketFun:function(){var t=this;t.search?(t.minioListBucketsAll.buckets=[],t.minioListBuckets.buckets&&t.minioListBuckets.buckets.map(function(e){e.name.indexOf(t.search)>=0&&t.minioListBucketsAll.buckets.push(e)})):t.minioListBucketsAll=JSON.parse(JSON.stringify(t.minioListBuckets))},getListBucket:function(t){this.$emit("getminioListBucket",t)},getMinioData:function(){this.minioListBuckets?(this.minioListBuckets.buckets.map(function(t){t.show=!1}),this.minioListBucketsAll=JSON.parse(JSON.stringify(this.minioListBuckets)),console.log("minioListBucketsAll",this.minioListBucketsAll)):this.minioListBucketsAll=JSON.parse(JSON.stringify(this.minioListBuckets))}},mounted:function(){this.getMinioData()}}}});